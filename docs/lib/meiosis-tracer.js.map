{"version":3,"file":"meiosis-tracer.js","mappings":"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","sources":["webpack://meiosisTracer/webpack/universalModuleDefinition","webpack://meiosisTracer/./src/constants.js","webpack://meiosisTracer/./src/meiosis-tracer.js","webpack://meiosisTracer/./src/settingsView.js","webpack://meiosisTracer/./src/streamView.js","webpack://meiosisTracer/./src/trace.js","webpack://meiosisTracer/./src/tracer.js","webpack://meiosisTracer/./src/updateView.js","webpack://meiosisTracer/webpack/bootstrap","webpack://meiosisTracer/webpack/runtime/define property getters","webpack://meiosisTracer/webpack/runtime/hasOwnProperty shorthand","webpack://meiosisTracer/webpack/runtime/make namespace object","webpack://meiosisTracer/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"meiosisTracer\"] = factory();\n\telse\n\t\troot[\"meiosisTracer\"] = factory();\n})(this, () => {\nreturn ","export const rowsId = 'tracerRows';\nexport const colsId = 'tracerCols';\nexport const streamContainerId = 'tracerStreamContainer';\nexport const settingsContainerId = 'tracerSettingsContainer';\nexport const hideTracerId = 'tracerHide';\nexport const showTracerId = 'tracerShow';\nexport const autoId = 'traceAutoSend';\n\nexport const streamId = (index) => 'tracerStreamBox_ ' + index;\nexport const hiddenStreamId = (index) => 'tracerStreamBoxHidden_' + index;\nexport const hideStreamId = (index) => 'tracerStreamHide_' + index;\nexport const showStreamId = (index) => 'tracerStreamShow_' + index;\nexport const modelId = (index) => 'tracerModel_' + index;\nexport const sliderId = (index) => 'tracerSlider_' + index;\nexport const stepBackId = (index) => 'tracerStepBack_' + index;\nexport const stepForwardId = (index) => 'tracerStepForward_' + index;\nexport const sliderValueId = (index) => 'tracerSliderValue_' + index;\nexport const sendId = (index) => 'tracerSend_' + index;\nexport const resetId = (index) => 'tracerReset_' + index;\nexport const histId = (index) => 'tracerAccumulateHistory_' + index;\n","import { trace } from './trace';\nimport { tracer } from './tracer';\n\nexport const meiosisTracer = (params) => {\n  if (params.streams != null) {\n    trace(params);\n  }\n  if (params.selector != null) {\n    return tracer(params);\n  }\n};\n","import * as C from './constants';\n\nexport const settingsView = ({ element, listeners, direction, rows, cols, autoSend }) => {\n  element.innerHTML = `\n    <div id='${C.settingsContainerId}'>\n      <label title='Align in a row'>\n        <input type='radio' name='direction' value='row'\n          ${direction === 'row' ? 'checked' : ''} />\n        Row\n      </label>\n      <label title='Align in a column'>\n        <input type='radio' name='direction' value='column'\n          ${direction === 'column' ? 'checked' : ''} />\n        Col\n      </label>\n      <label title='Toggle auto-send'>\n        <input id='${C.autoId}' type='checkbox' ${autoSend ? 'checked' : ''} />\n        Auto\n      </label>\n      <input title='Number of rows' id='${C.rowsId}' type='text' size='2'\n        value='${rows}'/>\n      <span> &times; </span>\n      <input title='Number of columns' id='${C.colsId}' type='text' size='2'\n        value='${cols}'/>\n      <button id='${C.hideTracerId}'>Hide</button>\n      <span>v5.0.0</span>\n    </div>\n    <button id='${C.showTracerId}' style='display:none'>Show</button>\n  `;\n\n  document.getElementById(C.hideTracerId).addEventListener('click', (_evt) => {\n    listeners.onHideTracer();\n  });\n\n  document.getElementById(C.showTracerId).addEventListener('click', (_evt) => {\n    listeners.onShowTracer();\n  });\n\n  document.getElementById(C.rowsId).addEventListener('input', (evt) => {\n    listeners.onRowsColsChange(\n      parseInt(evt.target.value, 10),\n      parseInt(document.getElementById(C.colsId).value, 10)\n    );\n  });\n\n  document.getElementById(C.colsId).addEventListener('input', (evt) => {\n    listeners.onRowsColsChange(\n      parseInt(document.getElementById(C.rowsId).value, 10),\n      parseInt(evt.target.value, 10)\n    );\n  });\n\n  const radios = document.querySelectorAll('input[name=\\'direction\\']');\n  for (let i = 0, t = radios.length; i < t; i++) {\n    radios[i].addEventListener('change', (evt) => {\n      if (evt.target.checked) {\n        listeners.onDirectionChange(evt.target.value);\n      }\n    });\n  }\n\n  document.getElementById(C.autoId).addEventListener('change', (evt) => {\n    listeners.onAutoChange(evt.target.checked);\n  });\n};\n\nexport const initializeResizeChangeDirection = (listeners, direction) => {\n  const directionAccordingToWindowSize = () => {\n    const dir = window.innerWidth > window.innerHeight ? 'row' : 'column';\n    const radios = document.querySelectorAll('input[name=\\'direction\\']');\n    for (let i = 0, t = radios.length; i < t; i++) {\n      radios[i].checked = radios[i].value === dir;\n    }\n    listeners.onDirectionChange(dir);\n  };\n\n  if (direction === 'auto') {\n    window.addEventListener('resize', directionAccordingToWindowSize);\n  }\n\n  if (direction === 'row' || direction === 'column') {\n    listeners.onDirectionChange(direction);\n  } else {\n    directionAccordingToWindowSize();\n  }\n};\n","import * as C from './constants';\n\nexport const streamView = ({\n  element,\n  index,\n  listeners,\n  label = '',\n  rows,\n  cols,\n  hist = true,\n  hide = false\n}) => {\n  const streamBoxStyle = 'padding:8px;border:1px solid gray';\n\n  element.innerHTML = `\n    <div id='${C.streamId(index)}' style='${streamBoxStyle}'>\n      <div>\n        <span>${label}</span>\n        <label title='Toggle accumulate history'>\n          <input id='${C.histId(index)}' type='checkbox' ${hist ? 'checked' : ''} />\n          Hist\n        </label>\n        <button id='${C.hideStreamId(index)}'>Hide</button>\n      </div>\n      <textarea id='${C.modelId(index)}' rows='${rows}' cols='${cols}'>\n      </textarea>\n      <div>\n        <input id='${C.sliderId(index)}' type='range' min='0' max='0' value='0'\n          style='width: 100%' />\n        <button id='${C.stepBackId(index)}'>&lt</button>\n        <button id='${C.stepForwardId(index)}'>&gt</button>\n        <span id='${C.sliderValueId(index)}'>-1</span>\n        <button id='${C.sendId(index)}'>Send</button>\n        <button id='${C.resetId(index)}'>Reset</button>\n      </div>\n    </div>\n    <div id='${C.hiddenStreamId(index)}' style='display:none'>\n      <span>${label} </span>\n      <button id='${C.showStreamId(index)}'>Show</button>\n    </div>\n  `;\n\n  document.getElementById(C.sliderId(index)).addEventListener('input', (evt) => {\n    listeners.onSliderChange(parseInt(evt.target.value, 10));\n  });\n\n  const stepBack = document.getElementById(C.stepBackId(index));\n  stepBack.addEventListener('click', (_evt) => {\n    listeners.onStepBack();\n  });\n  stepBack.disabled = true;\n\n  const stepForward = document.getElementById(C.stepForwardId(index));\n  stepForward.addEventListener('click', (_evt) => {\n    listeners.onStepForward();\n  });\n  stepForward.disabled = true;\n\n  document.getElementById(C.sendId(index)).addEventListener('click', (_evt) => {\n    listeners.onSend(document.getElementById(C.modelId(index)).value);\n  });\n\n  document.getElementById(C.resetId(index)).addEventListener('click', (_evt) => {\n    listeners.onReset();\n  });\n\n  const hideStream = (index) => {\n    document.getElementById(C.streamId(index)).style = 'display:none';\n    document.getElementById(C.hiddenStreamId(index)).style = streamBoxStyle;\n  };\n\n  document\n    .getElementById(C.hideStreamId(index))\n    .addEventListener('click', (_evt) => hideStream(index));\n\n  document.getElementById(C.showStreamId(index)).addEventListener('click', (_evt) => {\n    document.getElementById(C.hiddenStreamId(index)).style = 'display:none';\n    document.getElementById(C.streamId(index)).style = streamBoxStyle;\n  });\n\n  document.getElementById(C.histId(index)).addEventListener('change', (evt) => {\n    listeners.onHistChange(index, evt.target.checked);\n  });\n\n  if (hide) {\n    hideStream(index);\n  }\n};\n","const isMeiosisTracerOn = () => window && window['__MEIOSIS_TRACER_GLOBAL_HOOK__'];\n\n/*\nChanges to a stream are sent to the tracer.\n\nStream values received from the tracer are pushed onto the stream.\n\nThey are either sent back or not according to the flag issued by the tracer:\n- When auto-sent using the slider, do not send values back.\n- When sent using the Send button, send values back; they can either be added\n  to the history or not, according to a checkbox.\n\nMessages:\n\n- MEIOSIS_TRACER_INIT: received from the UI to initialize\n- MEIOSIS_PING: sent to the UI in case we missed the INIT message, asks the UI to send INIT\n- MEIOSIS_STREAM_OPTIONS: sent to the UI to initialize streams and options\n- MEIOSIS_STREAM_VALUE: sent to the UI to indicate a new stream value\n- MEIOSIS_TRIGGER_STREAM_VALUE: received from the UI to push a value onto a stream\n\nParameters:\n\n- streams:              [ ]      // each item either a stream, or\n    { stream, label, hist, hide, stringify, parse, listen, emit }\n- stringify (optional): Function // default is obj => JSON.stringify(obj, null, 4)\n- parse (optional):     Function // default is str => JSON.parse(str)\n- listen (optional):    Function // default is (stream, fn) => stream.map(fn)\n- emit (optional):      Function // default is (stream, value) => stream(value)\n*/\nexport const trace = ({\n  streams = [],\n  stringify = (obj) => JSON.stringify(obj, null, 4),\n  parse = (str) => JSON.parse(str),\n  listen = (stream, fn) => stream.map(fn),\n  emit = (stream, value) => stream(value)\n}) => {\n  if (!isMeiosisTracerOn()) {\n    return;\n  }\n  const bufferedStreamValues = [];\n  let devtoolInitialized = false;\n\n  const streamObjs = [];\n\n  for (let i = 0, t = streams.length; i < t; i++) {\n    const defaultLabel = 'Stream ' + i;\n    if (streams[i].stream) {\n      streams[i].label = streams[i].label || defaultLabel;\n      streamObjs.push(streams[i]);\n    } else {\n      streamObjs.push({ stream: streams[i], label: defaultLabel });\n    }\n  }\n\n  streamObjs.forEach(({ stream }, index) => {\n    listen(stream, (value) => {\n      const data = { type: 'MEIOSIS_STREAM_VALUE', index, value: stringify(value) };\n\n      if (devtoolInitialized) {\n        window.postMessage(data, '*');\n      } else {\n        bufferedStreamValues.push(data);\n      }\n    });\n  });\n\n  window.addEventListener('message', (evt) => {\n    if (evt.data.type === 'MEIOSIS_TRACER_INIT') {\n      const streamOpts = [];\n      streamObjs.forEach((streamObj) => {\n        const streamOpt = {};\n        Object.keys(streamObj).forEach((key) => {\n          if (key !== 'stream') {\n            streamOpt[key] = streamObj[key];\n          }\n        });\n        streamOpts.push(streamOpt);\n      });\n      window.postMessage({ type: 'MEIOSIS_STREAM_OPTIONS', value: streamOpts }, '*');\n      devtoolInitialized = true;\n      bufferedStreamValues.forEach((data) => window.postMessage(data, '*'));\n      bufferedStreamValues.length = 0;\n    } else if (evt.data.type === 'MEIOSIS_TRIGGER_STREAM_VALUE') {\n      const { index, value } = evt.data;\n      emit(streamObjs[index].stream, parse(value));\n    }\n  });\n\n  // Send ping in case tracer was already loaded and we missed the MEIOSIS_TRACER_INIT message.\n  window.postMessage({ type: 'MEIOSIS_PING' }, '*');\n};\n","import { streamView } from './streamView';\nimport { updateView } from './updateView';\nimport { settingsView, initializeResizeChangeDirection } from './settingsView';\nimport * as C from './constants';\n\nwindow['__MEIOSIS_TRACER_GLOBAL_HOOK__'] = true;\nconst states = [];\nconst accumulateHistory = [];\n\nexport const tracer = ({\n  selector,\n  sendTracerInit,\n  triggerStreamValue,\n  direction = 'column',\n  theme = 'light',\n  rows = 15,\n  cols = 50,\n  autoSend = true\n}) => {\n  const target = document.querySelector(selector);\n\n  if (!target) {\n    return;\n  }\n\n  target.classList.add(`theme-${theme}`);\n\n  let containerStyle = null;\n\n  if (sendTracerInit == null) {\n    sendTracerInit = () => {\n      window.postMessage({ type: 'MEIOSIS_TRACER_INIT' }, '*');\n    };\n  }\n\n  if (triggerStreamValue == null) {\n    triggerStreamValue = (index, value) => {\n      window.postMessage({ type: 'MEIOSIS_TRIGGER_STREAM_VALUE', index, value }, '*');\n    };\n  }\n\n  const receiveStreamOptions = (streamOptions) => {\n    if (target.lastChild) {\n      return;\n    }\n    const settingsListeners = {\n      onHideTracer: () => {\n        const container = document.getElementById(C.streamContainerId);\n        containerStyle = container.style;\n        container.style = 'display:none';\n\n        document.getElementById(C.settingsContainerId).style = 'display:none';\n        document.getElementById(C.showTracerId).style = '';\n      },\n      onShowTracer: () => {\n        document.getElementById(C.streamContainerId).style = containerStyle;\n\n        document.getElementById(C.settingsContainerId).style = '';\n        document.getElementById(C.showTracerId).style = 'display:none';\n      },\n      onRowsColsChange: (rows, cols) => {\n        for (let i = 0; i < streamOptions.length; i++) {\n          const textarea = document.getElementById(C.modelId(i));\n          textarea.rows = rows;\n          textarea.cols = cols;\n        }\n      },\n      onDirectionChange: (direction) => {\n        document.getElementById(C.streamContainerId).style =\n          'display:flex;flex-direction:' + direction;\n      },\n      onAutoChange: (auto) => {\n        autoSend = auto;\n      }\n    };\n    const settings = document.createElement('div');\n    target.append(settings);\n    settingsView({\n      element: settings,\n      listeners: settingsListeners,\n      direction,\n      rows,\n      cols,\n      autoSend\n    });\n\n    const container = document.createElement('div');\n    container.id = C.streamContainerId;\n    container.style = 'display:flex;flex-direction:column';\n    target.append(container);\n\n    const sendStreamValue = (index, model) => {\n      if (autoSend) {\n        accumulateHistory[index] = false;\n        document.getElementById(C.histId(index)).checked = false;\n        triggerStreamValue(index, model);\n      }\n    };\n\n    for (let index = 0; index < streamOptions.length; index++) {\n      const { label, hist, hide } = streamOptions[index];\n      states.push({ history: [], value: -1 });\n      accumulateHistory.push(hist === false ? false : true);\n\n      const listeners = {\n        onSliderChange: (value) => {\n          const state = states[index];\n          const model = state.history[value];\n          state.value = value;\n\n          updateView({ index, model, value });\n          sendStreamValue(index, model);\n        },\n        onStepBack: () => {\n          const state = states[index];\n          state.value = state.value - 1;\n          const model = state.history[state.value];\n\n          updateView({ index, model, value: state.value });\n          sendStreamValue(index, model);\n        },\n        onStepForward: () => {\n          const state = states[index];\n          state.value = state.value + 1;\n          const model = state.history[state.value];\n\n          updateView({ index, model, value: state.value });\n          sendStreamValue(index, model);\n        },\n        onSend: (value) => {\n          triggerStreamValue(index, value);\n        },\n        onReset: () => {\n          const state = states[index];\n          state.history.length = 0;\n          state.value = -1;\n\n          updateView({ index, model: '', value: state.value, max: state.value });\n        },\n        onHistChange: (index, hist) => {\n          accumulateHistory[index] = hist;\n        }\n      };\n\n      const element = document.createElement('div');\n      element.style = 'flex-grow:1';\n      container.append(element);\n\n      streamView({ element, index, listeners, label, rows, cols, hist, hide });\n    }\n\n    initializeResizeChangeDirection(settingsListeners, direction);\n  };\n\n  const receiveStreamValue = (index, model) => {\n    if (accumulateHistory[index]) {\n      const state = states[index];\n\n      if (state.history.length > 0) {\n        state.history.length = state.value + 1;\n      }\n      state.history.push(model);\n      state.value = state.history.length - 1;\n\n      updateView({ index, model, value: state.value, max: state.history.length - 1 });\n    }\n  };\n\n  window.addEventListener('message', (evt) => {\n    if (evt.data.type === 'MEIOSIS_STREAM_OPTIONS') {\n      receiveStreamOptions(evt.data.value);\n    } else if (evt.data.type === 'MEIOSIS_STREAM_VALUE') {\n      receiveStreamValue(evt.data.index, evt.data.value);\n    }\n  });\n\n  sendTracerInit();\n\n  return {\n    receiveStreamOptions,\n    receiveStreamValue\n  };\n};\n","import * as C from './constants';\n\nexport const updateView = ({ index, model, value, max }) => {\n  document.getElementById(C.modelId(index)).value = model;\n\n  if (max != null) {\n    document.getElementById(C.sliderId(index)).max = max;\n  }\n\n  document.getElementById(C.sliderId(index)).value = value;\n  document.getElementById(C.sliderValueId(index)).innerHTML = value;\n\n  document.getElementById(C.stepBackId(index)).disabled = value <= 0;\n  document.getElementById(C.stepForwardId(index)).disabled =\n    value == document.getElementById(C.sliderId(index)).max;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { meiosisTracer } from './meiosis-tracer';\n\nexport default meiosisTracer;\n"],"names":["rowsId","colsId","streamContainerId","settingsContainerId","hideTracerId","showTracerId","autoId","streamId","index","hiddenStreamId","hideStreamId","showStreamId","modelId","sliderId","stepBackId","stepForwardId","sliderValueId","sendId","resetId","histId","trace","tracer","meiosisTracer","params","streams","selector","C","settingsView","element","listeners","direction","rows","cols","autoSend","innerHTML","document","getElementById","addEventListener","_evt","onHideTracer","onShowTracer","evt","onRowsColsChange","parseInt","target","value","radios","querySelectorAll","i","t","length","checked","onDirectionChange","onAutoChange","initializeResizeChangeDirection","directionAccordingToWindowSize","dir","window","innerWidth","innerHeight","streamView","label","hist","hide","streamBoxStyle","onSliderChange","stepBack","onStepBack","disabled","stepForward","onStepForward","onSend","onReset","hideStream","style","onHistChange","isMeiosisTracerOn","stringify","obj","JSON","parse","str","listen","stream","fn","map","emit","bufferedStreamValues","devtoolInitialized","streamObjs","defaultLabel","push","forEach","data","type","postMessage","streamOpts","streamObj","streamOpt","Object","keys","key","updateView","states","accumulateHistory","sendTracerInit","triggerStreamValue","theme","querySelector","classList","add","containerStyle","receiveStreamOptions","streamOptions","lastChild","settingsListeners","container","textarea","auto","settings","createElement","append","id","sendStreamValue","model","history","state","max","receiveStreamValue"],"sourceRoot":""}